{% extends 'base.html' %}

{% block title %}
    –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∞–≤–∞—Ç–∞—Ä
{% endblock %}

{% block links %}
    <link rel="stylesheet" href="{{ url_for('edit_avatar.static', filename='css/edit_avatar.css') }}">
{% endblock links %}

{% block content %}
    <div class="back-blur"></div>
    <div class="main-block">
        <div class="image" onclick="loadIMage()">
            <img src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/add_new.png') }}" alt="image">
        </div>
        <div class="text">
            <p class="welcoming-text">–û–±–µ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –∞–≤–∞—Ç–∞—Ä</p>
        </div>
        <div class="default-avatars">
            <div id = "1" class="img ">
                <img class="options-avatar" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/default_avatar1.svg') }}" alt="avatar">
                <span id = "1" class="agree 1"><img class="agree-img" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/agree_avatar.svg') }}" alt="img"></span>
            </div>
            <div id = "2" class="img ">
                <img class="options-avatar" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/default_avatar2.svg') }}" alt="avatar">
                <span id = "2" class="agree 2"><img class="agree-img" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/agree_avatar.svg') }}" alt="img"></span>
            </div>
            <div id = "3" class="img ">
                <img class="options-avatar" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/default_avatar3.svg') }}" alt="avatar">
                <span id = "3" class="agree 3"><img class="agree-img" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/agree_avatar.svg') }}" alt="img"></span>
            </div>
            <div id = "4" class="img ">
                <img class="options-avatar" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/default_avatar4.svg') }}" alt="avatar">
                <span id = "4" class="agree 4"><img class="agree-img" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/agree_avatar.svg') }}" alt="img"></span>
            </div>
            <div id = "5" class="img ">
                <img class="options-avatar" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/default_avatar5.svg') }}" alt="avatar">
                <span id = "5" class="agree 5"><img class="agree-img" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/agree_avatar.svg') }}" alt="img"></span>
            </div>
        </div>

        <div class="edit-buttons">
            <div class="button" onclick="loadIMage()">
                <p class="button-text">–û–±—Ä–∞—Ç–∏ –∑  –≥–∞–ª–µ—Ä–µ—ó</p>
                <!-- —Ñ–æ—Ä–º–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É -->
                <form action="" method="post" id="send-picture" enctype='multipart/form-data'>
                    <label for="file"><img class="button-image" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/photo.png') }}" alt=""></label>
                    <input type="text" name="check_form" class = "check_name" value = "load_image">
                    <input id="file-upload" name="file" type="file" class="get_photo" onchange="submitForm()" accept="image/*">
                </form>
            </div>
            
            <div class="button">
                <!-- –ó–∞–ø—É—Å–∫ –∫–∞–º–µ—Ä—ã -->
                <button onclick="MakePhoto()" class="button-text">–í–∫–ª—é—á–∏—Ç–∏ –∫–∞–º–µ—Ä—É</button>
                <img class="button-image" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/photo.png') }}" alt="">
            </div>

            <!-- –í–∏–¥–µ–æ —Å –∫–∞–º–µ—Ä—ã -->
            <video id="camera-stream" autoplay playsinline style="width:300px; display:none;"></video>

            <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è —Ñ–æ—Ç–æ -->
            <button onclick="TakePhoto()" style="display:none;" id="take-photo-btn">üì∏ –ó—Ä–æ–±–∏—Ç–∏ —Ñ–æ—Ç–æ</button>

            <!-- –°–Ω–∏–º–æ–∫ -->
            <canvas id="photo-canvas" width="300" height="200" style="display:none;"></canvas>


            <div class="button" onclick="DeletePhoto();">
                <p class="button-text">–í–∏–¥–∞–ª–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω–µ —Ñ–æ—Ç–æ</p>
                <img class="button-image" src="{{ url_for('edit_avatar.static', filename='images/edit_avatar/can.png') }}" alt="">
            </div>
        </div>

        <div class="bottom-data">
            <div class="data-user">
                <div class="main-data">
                    <div class="avatar-circle">
                        <img class="avatar" data-size="{{ user.size_avatar }}" src="{{ url_for('profile.static', filename='images/edit_avatar/' + user.email +'/'+ user.name_avatar ) }}" alt="avatar">
                    </div>
                    <a class="nick" href="/profile">{{ user.username }}</a>
                </div>
                <div class="antoher-data">
                    <p class="gmail">{{ user.email }}</p>
                    <div class="tests-data">
                        <p class="text-tests">–ø—Ä–æ–π–¥–µ–Ω—ñ —Ç–µ—Å—Ç–∏: <p class="number-tests">0</p></p>
                        <img class= "bonuses" src="{{ url_for('home.static', filename='images/home_auth/bonuses.png') }}" alt="">
                    </div>
                </div>
            </div>
            <div class="welcoming-robot">
                <p class="bottom-text">–î–∏–≤–∏—Å—å —è–∫ –∑–∞—Ä–∞–∑<br>–≤–∏–≥–ª—è–¥–∞—î —Ç–≤—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å!</p>
                <div class="flash-robot"></div>
                <img class="image-robot" src="{{ url_for('static', filename='images/panel-robot.png') }}" alt="">
            </div>
        </div>
    </div>

    <form action="" id= "default_avatar" method="post">
        <input type="text" class="data_avatar" name="data_avatar" value="default_user">
        <input type="text" name="check_form" value = "defaul_avatar">
    </form>


    <div class="confirm-changing {% if show == 'show' %}show{% else %}net{% endif %}" onchange="ShowPage()">
        <div class="change-text">
            <p>–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ—ñ–ª—é</p>
            <p class="discription">–í–∞—à –Ω–æ–≤–∏–π –∞–≤–∞—Ç–∞—Ä –±—É–¥—É—Ç—å –±–∞—á–∏—Ç–∏ —ñ–Ω—à—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∏ –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –Ω–∞ –≤–∞—à –ø—Ä–æ—Ñ—ñ–ª—å<br>—Ç–∞ –ø—ñ–¥ —á–∞—Å –ø—Ä–æ—Ö–æ–∂–µ–Ω–Ω—è —Å–ø—ñ–ª—å–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤</p>
        </div>
        <div class="look-picture">
            <div class="image-user">
                <input type="range" name="input_range" class="size" min="90" max="200" value="100" onchange="ChangeSize()">

                <div class = "blur-image">
                    <img class="bg-image" src="{{ url_for('profile.static', filename = 'images/edit_avatar/' + user.email + '/cash/' +  cash_image) }}" alt="img">
                </div>
                <div class="circle">
                    <img class="bg-image inside" src="{{ url_for('profile.static', filename = 'images/edit_avatar/' + user.email + '/cash/' +  cash_image) }}" alt="img">
                </div>
                <!-- <img class="example-image" src="{{ url_for('profile.static', filename = 'images/edit_avatar/' + user.email + '/'+ user.name_avatar ) }}" alt="img"> -->
            </div>
        </div>
        <div class="change-buttons" >
            <div class="firs_part">
                <form action="" method="post" id = "delete_form">
                    <input type="text" name="check_form" class = "check_name" value = "del_image">
                    <button class="del_current" type="submit">–≤–∏–¥–∞–ª–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω–µ —Ñ–æ—Ç–æ</button>
                </form>
                <form action="" method="post">
                    <input type="text" name="check_form" class = "check_name" value = "change_image">
                    <form action="" method="post">
                        <input type="text" name="check_form" class = "check_name" value = "load_image">
                        <label class="change-photo" onclick="loadIMage()" for="file">–∑–º—ñ–Ω–∏—Ç–∏ –∑–æ–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</label>
                        <input id="file-upload" name="file" type="file" class="get_photo" onchange="submitForm()">
                    </form>
                    <!-- <button class="change-photo" type="submit">–∑–º—ñ–Ω–∏—Ç–∏ –∑–æ–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è </button> -->
                </form>
            </div>
            <div class="second_part">
                <form action="" method="post" class="back-image">
                    <input type="text" name="check_form" class = "check_name" value = "back">
                    <button type="submit" class="back">–Ω–∞–∑–∞–¥</button>
                </form>
                <form action="" method="post" id="apply_image_form">
                    <!-- —Ç—É—Ç —Å–∫—Ä—ã—Ç—ã–π –∏–Ω–ø—É—Ç, —á—Ç–æ–±—ã –ø—Ä–∏ –ø–æ—Å—Ç –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ –±–µ–∫ –º—ã –º–æ–≥–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏ —á—Ç–æ –≤–≤–µ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å -->
                    <input type="range" name="hide-size" class="hide-size" min="90" max="200" value="100">
                    <input type="text" name="check_form" class = "check_name" value = "apply_image">
                    <button class="apply" type="submit">–∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('profile.static', filename='js/editInfo.js') }}"></script>
{% endblock scripts %}